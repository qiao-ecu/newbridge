define(function(require){var exports={},e=window.require,t=require("jquery"),n=require("common/util/fileManager"),i=e("child_process").exec,r=e("nw.gui"),a=r.Window.get();return exports.show=function(){a.show(),a.focus()},exports.hide=function(){a.hide()},exports.open=function(){return r.Window.open.apply(r.Window,arguments)},exports.preview=function(e){if(n.exist(e)){var t=n.getFilePathByBcsName(e);exports.exec("open "+t)}},exports.exec=function(e){var n=t.Deferred();return i(e,function(e,t,i){if(e)n.reject(e);else n.resolve(t)}),n.promise()},exports.tweenResizeTo=function(e,t,n){e.run({type:"easeInOut",from:[a.width,a.height],to:[t,n],duration:100,callback:function(e,t){a.resizeTo(e,t),exports.setCenter()}})},exports.resizeTo=function(e,t){a.resizeTo(e,t),exports.setCenter()},exports.setMinimumSize=function(e,t){a.setMinimumSize(e,t)},exports.setCenter=function(){a.setPosition("center")},exports.enterFullScreen=function(){a.enterFullScreen()},exports.maximize=function(){a.maximize()},exports.setResizable=function(e){a.setResizable(e)},exports.leaveFullScreen=function(){a.leaveFullScreen()},exports.getPosition=function(){return{x:a.x,y:a.y,height:a.height,width:a.width}},exports.setPosition=function(e,t){if(Number.isInteger(e))a.x=e;if(Number.isInteger(t))a.y=t},exports.moveTo=function(e,t,n){e.run({type:"easeInOut",from:[a.x,a.y],to:[t,n],duration:200,callback:function(e,t){console.log(e,t),a.moveTo(e,t)},done:function(){exports.show()}})},exports});