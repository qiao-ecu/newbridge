define(function(require){function e(e,t,n,i){r.exists(e,function(a){if(!a)return void i();else return void r.open(e,"r",function(e,a){if(e)i(e);var o=new Buffer(n-t);o.fill(0),r.read(a,o,0,n-t,t,function(e,t,n){if(e)r.close(a,function(){i(e)});else r.close(a,function(){i(null,n)})})})})}function t(e,t){r.exists(e,function(n){if(!n)return void t();else return void r.readFile(e,t)})}function n(e,t){r.exists(e,function(n){if(!n)return void t();else return void r.readdir(e,t)})}var i=window.require,r=i("fs");return{readFile:t,readChunk:e,writeFile:r.writeFile,rename:r.rename,readDir:n}});