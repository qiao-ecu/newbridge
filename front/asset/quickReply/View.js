define(function(require,exports,module){function e(){t.apply(this,arguments)}var t=require("ef/UIView"),n=require("er/util");require("esui/Select"),require("esui/Tab"),require("./Tree");var i=require("esui/TreeStrategy"),r=require("underscore");require("jquery");require("tpl!./main.tpl");var a=[],o={hideRoot:!0,datasource:"@treeData",strategy:new i,itemTemplate:'<div class="item ellipsis" data-apped="${apped}" data-id="${id}" data-type="${type}" data-poor-content="${poorContent}">${text}</div>'};return e.prototype.template="quickReply",e.prototype.uiProperties={typeTab:{activeIndex:"@tabIndex"},quickReplyList:o},e.prototype.send=function(e){},e.prototype.uiEvents={"quickReplyList:dbclickLeafNode":function(e){var t=this.model.get("quickReplyList"),n=r.find(t,function(t){return t.id===e.node});if(n)this.send(n.richContent)},"typeTab:activate":function(e){this.fire("update",e.activeIndex)},"quickReplyList:expand":function(e){if(a.indexOf(+e.node.id)<0)a.push(+e.node.id),this.model.set("expandedNodes",a);this.fire("rebind")},"quickReplyList:collapse":function(e){if(a.indexOf(+e.node.id)>=0)a=r.without(a,+e.node.id),this.model.set("expandedNodes",a)},"quickReplyList:initFinished":function(e){this.fire("rebind")},resultList:{initFinished:function(){this.fire("rebind")},expand:function(){this.fire("rebind")},dbclickLeafNode:function(e){clientInterface.notify("SendPhraseToEditor",{phrase:{id:+e.node}})}}},n.inherits(e,t),e});