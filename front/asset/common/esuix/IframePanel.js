define(function(require){function e(){i.apply(this,arguments)}var t=require("er/Deferred"),n=require("esui/lib"),i=(require("esui/controlHelper"),require("esui/Control"));require("esui/main");e.prototype.type="IframePanel",e.prototype.initStructure=function(){this.main.innerHTML="<iframe></iframe>",this.iframe=this.main.firstElementChild,this.helper.addPartClasses("iframe",this.iframe)},e.prototype.initEvents=function(){var e=this,n=new t;this.promise=n.promise;var i=!1;this.iframe.onload=function(){if(!i)i=!0,e.fire("ready"),n.resolve()},setTimeout(function(){if(!i)i=!0,e.fire("ready"),n.resolve()},this.timeout||3e3)},e.prototype.repaint=require("esui/painters").createRepaint(i.prototype.repaint,{name:["url"],paint:function(e,t){if(!/^http/.test(t))t="http://"+t;e.iframe.src=t}}),n.inherits(e,i),require("esui/main").register(e)});