define(function(require){function e(){r.apply(this,arguments)}require("esui/Button"),require("esui/Panel");var t=require("esui/lib"),n=require("esui/controlHelper"),i=(require("esui/Control"),require("esui/main")),r=require("esui/Dialog");return e.prototype.type="DialogConfirm",e.confirm=function(e,a){function o(e,t){e.fire(t),e.dispose()}var s=a||"dialog-confirm",l=t.encodeHTML(e.title)||document.title,u=e.content,d=t.encodeHTML(e.okText)||r.OK_TEXT,f=t.encodeHTML(e.cancelText)||r.CANCEL_TEXT,c={type:"confirm",skin:"warn",dialogType:"confirm",title:l};t.extend(c,e);var p=['<div class="${prefix}-icon ${prefix}-icon-${type}"></div>','<div class="${prefix}-cont"><div class="${prefix}-text">${content}</div>','<div class="${prefix}-btn-con">${footHtml}</div></div>'].join("");c.id=n.getGUID(s),c.closeButton=!0,c.mask=!0,c.alwaysTop=!0;var h=c.type;c.type=null,c.needFoot=!1;var m=i.create("Dialog",c);m.appendTo(document.body),m.show();var g="",y=[{name:"btnOk",content:d,handler:"ok"},{name:"btnCancel",content:f,cancelBtn:!0,handler:"cancel"}];c.btnSet=c.btnSet?c.btnSet:y;for(var v="alert"===c.dialogType?1:c.btnSet.length,_=0,w=v;w>_;_++)g+='<div data-ui="type:Button;id:'+c.btnSet[_].name+";childName:"+c.btnSet[_].name+";skin:"+(c.btnSet[_].cancelBtn?"circle":"ok")+'">'+c.btnSet[_].content+"</div>";m.setTitle(l),m.setContent(t.format(p,{type:h,content:u,prefix:m.helper.getPrimaryClassName(),footHtml:g}));for(var _=0,w=v;w>_;_++)m.getBody().getChild(c.btnSet[_].name).on("click",t.curry(o,m,c.btnSet[_].handler||"btnClickHandler"+_+1));return m},e.alert=function(n){var i={skin:"warn",type:"alert",dialogType:"alert"},r=t.extend(i,n);return e.confirm(r,"dialog-alert")},t.inherits(e,r),require("esui/main").register(e),e});