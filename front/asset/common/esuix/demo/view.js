define(function(require,exports,module){function e(){t.apply(this,arguments)}var t=require("ef/UIView"),n=require("etpl"),i=require("./main.tpl"),r=require("er/util"),a=require("../demo/config"),o=require("esui/main");require("esui/Tab"),require("esui/TextBox"),require("esui/CheckBox"),require("common/esuix/PagerX"),require("esui/Button"),require("common/esuix/MultiSelect"),require("common/esuix/SelectList"),require("esui/Table"),require("common/esuix/DateRange"),require("common/esuix/RangeCalendar"),require("esui/Toast"),require("common/esuix/RealTimeValidityForm"),require("esui/TipLayer"),require("common/esuix/VerticalTipLayer"),require("esui/Region"),require("common/esuix/Slider"),require("common/esuix/Suggest"),require("common/esuix/TreeX"),require("esui/CommandMenu");var s=require("esui/TreeStrategy"),l=require("common/esuix/pickColor");require("esui/validator/RequiredRule"),require("esui/validator/MaxLengthRule"),require("esui/validator/MinLengthRule"),require("esui/validator/PatternRule"),require("esui/Validity");var u=require("esui/validator/Validity"),d=require("common/esuix/Dialog"),c=require("common/util/ejson"),f=require("jquery");return n.parse(i),e.prototype.template="demoView",e.prototype.uiProperties={textBox:{width:180,validityLabel:"validity"},tableBtnDisabled:{disabled:!0},okDisabled:{disabled:!0},okBtnDisabled:{disabled:!0},cancelDisabled:{disabled:!0},user:{title:"账号",validityLabel:"user-validity",pattern:/^[\u4e00-\u9fa5A-Za-z0-9\@\-\ \:\\\/\*\&\^\_]+$/,required:!0},nickName:{title:"昵称",validityLabel:"nickName-validity",pattern:/^[\u4e00-\u9fa5A-Za-z0-9\@\-\ \:\\\/\*\&\^\_]+$/,required:!0},pwd:{title:"密码",maxLength:500,minLength:6,validityLabel:"pwd-validity",pattern:/^[A-Za-z0-9\~\!\@\#\$\%\^\&\*\(\)\?\,\.\<\>]+$/,required:!0},multiSelect:{datasource:a.findSelectedUser.data.dataList},select:{datasource:a.findSelectedStyle.data.dataList,selectedIndex:1},table:a.table,rangeCalendar:{dateFormat:"YYYY-MM-DD HH:mm",rawValue:{begin:new Date(2013,6,1),end:new Date},range:{begin:new Date(2e3,0,1),end:new Date}},pager:{count:a.findSelectedStyle.data.totalCount},toastSucc:{duration:3e5,messageType:"success",content:"保存成功",disposeOnHide:!0},toastAlert:{duration:3e5,messageType:"alert",content:"该账号没有接待权限",disposeOnHide:!0},commandMenu:{displayText:"导出",datasource:[{text:"导出所选分组",handler:function(){}},{text:"导出所选常用语",handler:function(){}}]},tree:{datasource:{id:"1",text:"百度",children:[{id:"2",text:"联盟研发部",children:[{id:"21",text:"RD",children:[{id:"35",text:"RD"},{id:"36",text:"FE"},{id:"37",text:"QA"},{id:"38",text:"PM"}]},{id:"22",text:"FE"},{id:"23",text:"QA"},{id:"24",text:"PM"}]},{id:"3",text:"贴吧事业部",children:[{id:"31",text:"RD"},{id:"32",text:"FE"},{id:"33",text:"QA"},{id:"34",text:"PM"}]}]},strategy:new s,itemTemplate:'<span class="group" style="display: block;width:100%">${text}</span>'}},e.prototype.uiEvents={"confirmOk:click":function(){var e=d.confirm({title:"Confirm 成功提示框",content:'<p class="info-title">成功新建账号</p><p class="info-content">您可以继续对账号进行基础管理</p>',width:500,skin:"ok",okText:"管理账号",cancelText:"关闭"});e.on("ok",function(){alert("事件处理函数")})},"confirmWarn:click":function(){var e=d.confirm({title:"Confirm 警告提示框",content:'<p class="info-title">您确认要删除所选账号？</p><p class="info-content">删除后不可恢复</p>',width:520,skin:"warn",btnSet:[{name:"btnOk",content:"管理账号",handler:"handlerName"},{name:"btnwait",content:"稍等我想想",cancelBtn:!0},{name:"btnCancel",content:"关闭"}]});e.on("handlerName",function(){alert("事件处理函数")})},"alertOk:click":function(){var e=d.alert({title:"Alert 成功提示框",content:'<p class="info-title">启用商桥成功</p><p class="info-content">启用后有5分钟延迟</p>',width:400,skin:"ok"});e.on("ok",function(){alert("事件处理函数")})},"alertWarn:click":function(){d.alert({title:"Alert 警告提示框",btnSet:[{name:"bntOk",content:"确定",cancelBtn:!0,handler:"ok"}],content:'<p class="info-title">系统错误</p><p class="info-content">请联系客服</p>',width:400})},"formOk:click":function(){var e=this.get("formInteraction"),t=e.validate();if(t)d.confirm({title:"Confirm 成功提示框",content:'<p class="info-title">成功新建账号</p><p class="info-content">您可以继续对账号进行基础管理</p>',width:500,top:200,skin:"ok",okText:"管理账号",cancelText:"关闭"})}},e.prototype.enterDocument=function(){function e(e,t,n){for(var i=d.dataList[t][e],r=i.split(","),a="",s=0;s<r.length;s++)a+='<div class="account-site-item">'+r[s]+"</div>";var l=o.create("VerticalTipLayer",{arrow:!0,content:a});l.appendTo(document.body),l.attachTo({targetDOM:n,delayTime:150,showMode:"over",positionOpt:{top:"bottom",left:"left"}})}t.prototype.enterDocument.call(this,arguments);var n=this.get("dateRange");n.setSelect(1);var i=new u;i.setCustomValidState("invalid"),i.setCustomMessage("用户名不能为空"),this.get("textBox").showValidity(i);var r=this.get("toastSucc");r.show();var s=this.get("toastAlert");s.show();var d=a.findAllRoles.data;f(".more-site").each(function(t,n){e("account",t,n)});var h="mock/queryFuzzy.json",p=this.get("search");p.handleChange=function(e,t){c.get(h,{"reqParam.fuzzyText":e}).then(function(e){t(e.dataList)})};var m=o.create("VerticalTipLayer",{arrow:!0,content:"为实现系统分析提出的系统功能所进行的各种技术设计工作的总称。它是为在系统分析的基础上进行具体设计的过程，也是选择最佳实现方案的过程，其主要工作为总体设计。在满足系统总体功能的前提下，将系统划分为若干子系统进行详细设计。"});m.appendTo(document.body),m.attachTo({targetDOM:f("#verTips")[0],delayTime:150,showMode:"over",positionOpt:{top:"bottom",left:"left"}});var g="#ffffff",v="#ffffff",y=new l([{ele:"#pickColorId",top:25,left:-20,color:g,callBackFunc:function(){}}]);y.on("ok",function(e){console.log(e),f(e.data.ele).css("background",e.data.color)}),y.on("cancel",function(e){console.log(e),f(e.data.ele).css("background",e.data.color)}),y.on("update",function(e){f(e.data.ele).css("background",e.data.color)});var _=f("#resetColor");_.on("click",function(){f("#pickColorId").css("background",v),y.setColor("#pickColorId",v)});var b="#000000",x="#aa0000",w=new l([{ele:"#pickColorId2",color:b,top:25,left:-20},{ele:"#pickColorId3",color:x,top:25,left:-20}]);w.on("ok",function(e){console.log(e),f(e.data.ele).css("background",e.data.color)}),w.on("cancel",function(e){console.log(e),f(e.data.ele).css("background",e.data.color)}),w.on("update",function(e){f(e.data.ele).css("background",e.data.color)})},r.inherits(e,t),e});