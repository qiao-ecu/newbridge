define(function(){var e,t,n,exports={};return exports.show=function(e){t.style.display="block",e.addClass(n,"nb-webim-light-face-show")},exports.hide=function(e){t.style.display="none",e.removeClass(n,"nb-webim-light-face-show")},exports.toggle=function(){if(exports.isShown())exports.hide();else exports.show()},exports.bindEvent=function(e){e.domOn(n,"click",function(t){exports.toggle(),e.domStop(t)}),e.domOn(t,"click",function(e){e=e||window.event;var t=e.target||e.srcElement,n=t.getAttribute("face"),i=t.getAttribute("alt"),r=t.getAttribute("extension");if(n)exports.faceSelected(n,i,r)})},exports.faceSelected=function(e,t){},exports.isShown=function(){return!!t.offsetHeight},exports.render=function(i,r,a,o,s){for(var l=[],u=i.get("faceItem"),d=0;d<o.length;d++)l.push(r.format(u,{md5:o[d].md5,ext:o[d].ext,comment:s[d]}));a.appendHTML(r.format(i.get("face"),{faceItems:l.join("")}),e),t=a.g("nbwlFaceContainer"),n=a.g("nbwlFaceIcon")},exports.init=function(t,n,i){e=t.g("nbwlToolBar"),n.parse(i),exports.render(),exports.bindEvent()},exports});