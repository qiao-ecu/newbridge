define(function(require){function e(e,t){this.modelType=e,this.viewType=t,n.apply(this,arguments)}var t=require("er/util"),n=require("er/Action"),i=requireNode("client-vm")();return e.prototype.initBehavior=function(){var e=this,t=function(t){var n=t.name+", "+t.subViewName+", "+t.dynamicViewName;if("vm:chatroom, talking, talking"===n)if("insert"===t.type)e.view.addMessages(t.value);else e.view.updateMessage(t.value)};i.on("data",t),this.on("leave",function(){i.removeListener("data",t)})},t.inherits(e,n),e});