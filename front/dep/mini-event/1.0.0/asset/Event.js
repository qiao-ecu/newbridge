define(function(require){function e(){return!0}function t(){return!1}function i(e,t){if("object"==typeof e)t=e,e=t.type;if("object"==typeof t)n.extend(this,t);else if(t)this.data=t;if(e)this.type=e}var n=require("./lib");i.prototype.isDefaultPrevented=t,i.prototype.preventDefault=function(){this.isDefaultPrevented=e},i.prototype.isPropagationStopped=t,i.prototype.stopPropagation=function(){this.isPropagationStopped=e},i.prototype.isImmediatePropagationStopped=t,i.prototype.stopImmediatePropagation=function(){this.isImmediatePropagationStopped=e,this.stopPropagation()};var r=function(){return this}();i.fromDOMEvent=function(e,t,n){e=e||r.event;var a=new i(t,n);return a.preventDefault=function(){if(e.preventDefault)e.preventDefault();else e.returnValue=!1;i.prototype.preventDefault.call(this)},a.stopPropagation=function(){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=!0;i.prototype.stopPropagation.call(this)},a.stopImmediatePropagation=function(){if(e.stopImmediatePropagation)e.stopImmediatePropagation();i.prototype.stopImmediatePropagation.call(this)},a};var a={type:!0,target:!0,preventDefault:!0,isDefaultPrevented:!0,stopPropagation:!0,isPropagationStopped:!0,stopImmediatePropagation:!0,isImmediatePropagationStopped:!0};return i.fromEvent=function(e,t){var r={type:e.type,preserveData:!1,syncState:!1};t=n.extend(r,t);var o=new i(t.type);if(t.preserveData)for(var s in e)if(e.hasOwnProperty(s)&&!a.hasOwnProperty(s))o[s]=e[s];if(t.extend)n.extend(o,t.extend);if(t.syncState)o.preventDefault=function(){e.preventDefault(),i.prototype.preventDefault.call(this)},o.stopPropagation=function(){e.stopPropagation(),i.prototype.stopPropagation.call(this)},o.stopImmediatePropagation=function(){e.stopImmediatePropagation(),i.prototype.stopImmediatePropagation.call(this)};return o},i.delegate=function(e,t,r,a,o){var s="string"==typeof t,l={object:e,type:s?t:r},u={object:s?r:t,type:s?a:r},c=s?o:a;if(c=n.extend({preserveData:!1},c),"function"==typeof l.object.on&&"function"==typeof u.object.on&&"function"==typeof u.object.fire){var f=function(e){var t=i.fromEvent(e,c);t.type=u.type,t.target=u.object,u.object.fire(u.type,t)};l.object.on(l.type,f)}},i});