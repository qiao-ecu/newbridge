define(function(){function e(e){if(/["\\\x00-\x1f]/.test(e))e=e.replace(/["\\\x00-\x1f]/g,function(e){var t=a[e];if(t)return t;else return t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16)});return'"'+e+'"'}function t(e){var t,i,n,a=["["],o=e.length;for(i=0;o>i;i++)switch(n=e[i],typeof n){case"undefined":case"function":case"unknown":break;default:if(t)a.push(",");a.push(r(n)),t=1}return a.push("]"),a.join("")}function i(e){return 10>e?"0"+e:e}function n(e){return'"'+e.getFullYear()+"-"+i(e.getMonth()+1)+"-"+i(e.getDate())+"T"+i(e.getHours())+":"+i(e.getMinutes())+":"+i(e.getSeconds())+'"'}function r(i){switch(typeof i){case"undefined":return"undefined";case"number":return isFinite(i)?String(i):"null";case"string":return e(i);case"boolean":return String(i);default:if(null===i)return"null";else if(i instanceof Array)return t(i);else if(i instanceof Date)return n(i);else{var a,o,s=["{"],l=r;for(var u in i)if(Object.prototype.hasOwnProperty.call(i,u))switch(o=i[u],typeof o){case"undefined":case"unknown":case"function":break;default:if(a)s.push(",");a=1,s.push(l(u)+":"+l(o))}return s.push("}"),s.join("")}}}var exports={};exports.parse=function(e){if(window.JSON&&JSON.parse)return JSON.parse(e);else return new Function("return ("+e+")")()},exports.stringify=function(e){if(window.JSON&&JSON.stringify)return JSON.stringify(e);else return r(e)};var a={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return exports});