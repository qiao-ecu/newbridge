define(function(require){function e(e){o.apply(this,arguments)}function t(e){var t={};return t.borderTop=parseInt(r.getComputedStyle(e,"borderTopWidth"),10),t.borderBottom=parseInt(r.getComputedStyle(e,"borderBottomWidth"),10),t}var n=require("underscore"),r=require("./lib"),i=require("./painters"),o=require("./Control");return e.prototype={type:"Button",initOptions:function(e){var t={content:"",disabled:!1};if(n.extend(t,e),t.tagName=this.main.nodeName.toLowerCase(),null==t.text)t.text=r.getText(this.main);var i=this.main.firstChild;if(!t.content&&i&&"div"!==i.nodeName.toLowerCase())t.content=this.main.innerHTML;this.setProperties(t)},createMain:function(){var e=document.createElement("div");return e.innerHTML='<button type="button"></button>',e.firstChild},initEvents:function(){this.helper.delegateDOMEvent(this.main,"click")},repaint:i.createRepaint(o.prototype.repaint,i.style("width"),{name:"height",paint:function(e,n){if(n){var r=e.main;r.style.height=n+"px";var i=n;r.style.lineHeight=i+"px";var o=r.offsetHeight;if(o===n){var a=t(r),s=n+a.borderTop+a.borderBottom;r.style.height=s+"px"}}}},i.html("content"),{name:"disabled",paint:function(e,t){var n=e.main.nodeName.toLowerCase();if("button"===n||"input"===n)e.main.disabled=!!t}}),setContent:function(e){this.setProperties({content:e})}},r.inherits(e,o),require("./main").register(e),e});