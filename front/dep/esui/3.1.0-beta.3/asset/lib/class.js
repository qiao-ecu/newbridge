define(function(require){function e(e){return e.className?e.className.split(/\s+/):[]}var t=require("underscore"),i=require("./dom"),n={};return n.hasClass=function(n,r){if(n=i.g(n),""===r)throw new Error("className must not be empty");if(!n||!r)return!1;if(n.classList)return n.classList.contains(r);var a=e(n);return t.contains(a,r)},n.addClass=function(n,r){if(n=i.g(n),""===r)throw new Error("className must not be empty");if(!n||!r)return n;if(n.classList)return n.classList.add(r),n;var a=e(n);if(t.contains(a,r))return n;else return a.push(r),n.className=a.join(" "),n},n.addClasses=function(n,r){if(n=i.g(n),!n||!r)return n;if(n.classList)return t.each(r,function(e){n.classList.add(e)}),n;var a=e(n),o=t.union(a,r);if(o.length>a.length)n.className=o.join(" ");return n},n.removeClass=function(t,n){if(t=i.g(t),""===n)throw new Error("className must not be empty");if(!t||!n)return t;if(t.classList)return t.classList.remove(n),t;for(var r=e(t),a=!1,o=0;o<r.length;o++)if(r[o]===n)r.splice(o,1),o--,a=!0;if(a)t.className=r.join(" ");return t},n.removeClasses=function(n,r){if(n=i.g(n),!n||!r)return n;if(n.classList)return t.each(r,function(e){n.classList.remove(e)}),n;var a=e(n),o=t.difference(a,r);if(o.length<a.length)n.className=o.join(" ");return n},n.toggleClass=function(t,n){if(t=i.g(t),""===n)throw new Error("className must not be empty");if(!t||!n)return t;if(t.classList)return t.classList.toggle(n),t;for(var r=e(t),a=!1,o=0;o<r.length;o++)if(r[o]===n)r.splice(o,1),a=!0,o--;if(!a)r.push(n);return t.className=r.join(" "),t},n});