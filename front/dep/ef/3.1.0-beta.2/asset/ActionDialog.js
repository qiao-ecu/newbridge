define(function(require){var e=require("esui/main"),n=require("esui/Dialog");require("./ActionPanel");var exports={};exports.type="ActionDialog",exports.styleType="Dialog",exports.setContent=function(){},exports.createBF=function(n,t){if(t)this.content=t.innerHTML;else t=document.createElement("div"),this.main.appendChild(t);this.helper.addPartClasses(n+"-panel",t);var o={main:t},r="Panel";if("body"===n)o.url=this.url,o.actionOptions=this.actionOptions,r="ActionPanel";var i=e.create(r,o);if("body"===n){i.on("actionattach",function(){if(this.resize(),this.autoClose){var e=this.get("action");if("function"==typeof e.on)e.on("handlefinish",!1),e.on("handlefinish",this.dispose,this)}this.fire("actionattach")},this),i.on("*",function(e){if(0===e.type.indexOf("action@"))this.fire(e)},this);var a=require("mini-event");a.delegate(i,this,"actionloaded"),a.delegate(i,this,"actionloadfail"),a.delegate(i,this,"actionloadabort")}return i.render(),this.addChild(i,n),i},exports.repaint=require("esui/painters").createRepaint(n.prototype.repaint,{name:["url","actionOptions"],paint:function(e,n,t){var o=e.getBody(),r={url:n,actionOptions:t};o.setProperties(r)}}),exports.getAction=function(){var e=this.getBody();if(e)return e.get("action");else return null},exports.reload=function(){var e=this.getBody();if(e)e.reload()};var t=require("eoo").create(n,exports);return require("esui").register(t),t});