import "sess_body.proto";
import "cg_types.proto";

package offline_protocol;

message get_offline_count {
    required cg.User user = 1;
    required fixed32 eid = 2;
    required sess.MsgBody.OprType role = 3;
}

message get_offline_count_ack {
    message CountBody {
        required cg.User sender = 1;
        required fixed32 count = 2;
    }

    required fixed32 result	= 1;
    repeated CountBody item = 2; //每个人的离线消息数
}

message get_offline_list {
    required cg.User receiver = 1;  //用户
    required cg.User sender = 2;    //发送方
    required fixed32 eid = 3;       //企业id
    required sess.MsgBody.OprType role = 4; //角色 0-访客 1-客服
    required fixed32 size = 5;              //返回消息最大数量
}

message get_offline_list_ack {
    required fixed32 result = 1;    //结果
    repeated sess.MsgBody msgs = 2; //离线消息列表
    required fixed32 more = 3;      //是否还有离线消息
}

